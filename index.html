<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Our Engagement</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        
        /* Used for heading and names */
        @font-face {
            font-family: 'Vegan_days';
            src: url('./fonts/vegan-days.regular.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Bodoni';
            src: url('./fonts/bodoni.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1d1d1f;
            color: #1d1d1f;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('./Engagement_page_pics/hands.JPG');
            background-position: center center;
            background-size: cover;
            background-repeat: no-repeat;
            z-index: -2;
            filter: contrast(1.2) brightness(1.1) saturate(1.1);
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom,
                rgba(245, 241, 235, 0.3) 0%,
                rgba(245, 241, 235, 0.5) 30%,
                rgba(232, 223, 213, 0.6) 60%,
                rgba(212, 196, 176, 0.7) 85%,
                rgba(180, 150, 120, 0.8) 100%
            );
            z-index: -1;
            pointer-events: none;
        }

        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.2s ease forwards;
            margin-top: -50px;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        
        h1 {
            font-family: 'Vegan_days', cursive;
            font-size: clamp(3rem, 10vw, 6rem);
            font-weight: 700;
            background: linear-gradient(135deg, #5D4E37 0%, #5D4E37 50%, #5D4E37 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            letter-spacing: 0.02em;
            filter: drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.5));
            /* Comment below part out if don't want sparkles */
            position: relative; /* ADDED */
            /* overflow: visible; ADDED */
            padding: 10px 0 25px 0; 
        }


        .subtitle {
            font-family: 'Vegan_days', cursive;
            font-size: clamp(2rem, 4.5vw, 2.5rem); /* Larger - increased from 1.3/1.8 */
            color: #7A6247; /* Darker - was #4a4a4a */
            font-weight: 700; /* Bold - was 500 */
            margin-bottom: 2rem;
            text-shadow: 1px 1px 3px rgba(230, 200, 150, 0.8);
            padding: 10px 20px;
            border-radius: 15px;
            display: inline-block;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            opacity: 0.9;
            z-index: 10;
            cursor: pointer;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .scroll-text {
            font-size: 0.9rem;
            color: #4a4a4a;
            font-weight: 500;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
        }

        .scroll-indicator:hover {
            opacity: 1;
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-50%) scale(1.1);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-20px); }
            60% { transform: translateX(-50%) translateY(-10px); }
        }

        .section-scroll-indicator {
            position: absolute;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.9;
            z-index: 10;
            animation: bounce 2s infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            background: rgba(255, 255, 255, 0.3);
            padding: 15px 20px;
            border-radius: 25px;
            margin-bottom: 60px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .section-scroll-indicator:hover {
            opacity: 1;
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-50%) scale(1.1);
        }

        .section-scroll-indicator span {
            font-size: 0.9rem;
            color: #4a4a4a;
            font-weight: 500;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
        }

        .section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 80px 20px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1s ease, transform 1s ease;
            position: relative;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }

        .section-title {
            /* font-family: 'bodoni',serif; */
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 600;
            text-align: center;
            margin-bottom: 3rem;
            color: #1d1d1f;
            letter-spacing: -0.02em;
        }

        .venue-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .venue-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(210, 180, 140, 0.2);
        }

        .venue-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
        }

        .venue-card h3 {
            font-size: 2.5rem;
            margin-bottom: 0.4rem;
            color: #1d1d1f;
            font-weight: 600;
            font-family: 'Bodoni',serif;
        }

        .venue-card p {
            margin-bottom: 12px;
            color: #515154;
            font-size: 1.05rem;
        }

        .venue-card strong {
            color: #1d1d1f;
            font-weight: 500;
        }

        .venue-card iframe {
            width: 100%;
            max-width: 600px;
            height: 300px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .btn {
            display: inline-block;
            padding: 14px 32px;
            background: linear-gradient(135deg, #8B7355 0%, #A0826D 100%);
            color: white;
            text-decoration: none;
            border-radius: 100px;
            margin-top: 20px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(139, 115, 85, 0.3);
            font-size: 1rem;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 30px rgba(139, 115, 85, 0.4);
        }

        .interactive-section {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 60px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .intro-text {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 50px;
            font-size: 1.2rem;
            color: #515154;
            line-height: 1.8;
        }

        .interactive-card {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .card-image-container {
            position: relative;
            width: 100%;
            padding-bottom: 141.4%;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
        }

        .card-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .dot {
            position: absolute;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #8B7355 0%, #A0826D 100%);
            border: 3px solid white;
            border-radius: 50%;
            cursor: pointer;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 100;
            -webkit-tap-highlight-color: transparent;
        }

        .dot::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(139, 115, 85, 0.3);
            animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        @keyframes ping {
            75%, 100% {
                transform: translate(-50%, -50%) scale(2.5);
                opacity: 0;
            }
        }

        .dot:hover::before,
        .dot.active::before {
            animation: none;
        }

        .dot:hover,
        .dot.active {
            transform: translate(-50%, -50%) scale(1.4);
            box-shadow: 0 6px 25px rgba(139, 115, 85, 0.5);
        }

        .popup {
            position: absolute;
            background: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            min-width: 280px;
            max-width: 500px;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.9) translateY(10px);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .popup.active {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1) translateY(0);
        }

        .popup img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 12px;
        }

        .popup-text {
            color: #1d1d1f;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .popup-text strong {
            display: block;
            margin-bottom: 5px;
            color: #8B7355;
            font-size: 1.05rem;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            margin-bottom: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .slideshow-container img {
            width: auto;
            max-width: 100%;
            max-height: 400px;
            object-fit: contain;
            border-radius: 10px;
            display: none;
        }

        .slideshow-container img.active-slide {
            display: block;
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            color: #8B7355;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .slide-arrow:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev { left: 10px; }
        .slide-arrow.next { right: 10px; }

        .slide-indicators {
            text-align: center;
            position: absolute;
            bottom: 10px;
            width: 100%;
            z-index: 10;
        }

        .slide-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            margin: 0 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .slide-indicator.active {
            background: white;
            width: 24px;
            border-radius: 4px;
        }

        .designer-section {
            text-align: center;
            padding: 60px 40px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            margin-top: 40px;
        }

        .designer-section h3 {
            font-family: 'Bodoni', serif;
            font-size: 2rem;
            margin-bottom: 15px;
            color: #1d1d1f;
        }

        .designer-link {
            color: #8B7355;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.3rem;
            transition: color 0.3s ease;
            animation: pulse 2s ease-in-out infinite;
        }

        .designer-link:hover {
            color: #6B5444;
        }

        .link-arrow {
            display: inline-block;
            margin-right: 10px;
            font-size: 1.2rem;
            animation: pointRight 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        @keyframes pointRight {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(8px); }
        }

        footer {
            text-align: center;
            padding: 60px 20px;
            background: rgba(255, 255, 255, 0.3);
            margin-top: 80px;
        }

        footer p {
            font-size: 1.2rem;
            color: #515154;
            margin-bottom: 10px;
        }

        .signature-names {
            font-family: 'Vegan_days', cursive;
            font-size: 3.2rem;
            font-weight: 400;
            margin-top: 15px;
            color: #8B7355;
        }

        @media (max-width: 768px) {
            .signature-names {
                font-size: 2.5rem;
            }
        }

        .popup-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .popup-backdrop.active {
            display: block;
            opacity: 1;
        }

        body.popup-open {
            overflow: auto; /* Allow scrolling */
        }

                /* Desktop only - fix specific popup images that go out of bounds */
        @media (min-width: 769px) {
            /* Popup 6 - fix slideshow display */
            #popup6 .slideshow-container {
                display: flex;
                justify-content: center;
                align-items: center;
            }
            
            #popup6 .slideshow-container img {
                max-height: 300px;
                width: auto;
                display: none; /* Hide all by default */
            }
            
            #popup6 .slideshow-container img.active-slide {
                display: block; /* Only show active slide */
            }
            
            #popup6 {
                max-width: 380px;
                min-width: 320px;
            }
            
            /* Popup 7 */
            #popup7 {
                max-width: 380px;
                min-width: 320px;
            }
            
            #popup7 img {
                max-height: 320px;
                width: auto;
                margin: 0 auto;
                display: block;
            }
            
            /* Popup 8 */
            #popup8 {
                max-width: 380px;
                min-width: 320px;
            }
            
            #popup8 img {
                max-height: 300px;
                width: auto;
                margin: 0 auto;
                display: block;
            }
            
            /* Popup 9 - make larger */
            #popup9 .slideshow-container img {
                max-height: 380px;
                width: auto;
            }
            
            /* Popup 11 - make larger */
            #popup11 {
                max-width: 450px;
                min-width: 380px;
            }
            
            #popup11 img {
                max-height: 400px;
                width: auto;
                margin: 0 auto;
                display: block;
            }
            
            /* Allow text to wrap in these popups */
            #popup6 .popup-text,
            #popup7 .popup-text,
            #popup8 .popup-text,
            #popup11 .popup-text {
                word-wrap: break-word;
                hyphens: auto;
            }
        }


        @media (max-width: 768px) {
            .hero { padding: 40px 15px; }
            .hero-content {margin-top: -60px;} /* Less movement on mobile */
            h1 { font-size: clamp(2rem, 10vw, 3rem); }
            .subtitle { font-size: clamp(1.5rem, 4vw, 1.7rem); }
            .section { padding: 60px 15px; min-height: auto; }
            .section-title { font-size: clamp(1.8rem, 6vw, 2.5rem); margin-bottom: 2rem; }
            .venue-grid { grid-template-columns: 1fr; gap: 20px; }
            .venue-card { padding: 30px 20px; }
            .venue-card iframe { height: 250px; }
            .interactive-section { padding: 30px 15px; border-radius: 20px; }
            .intro-text { font-size: 1rem; margin-bottom: 30px; }
            .interactive-card { border-radius: 15px; }
            .dot {width: 15px; height: 15px; border-width: 3px;}
            .popup {
                position: fixed !important;
                left: 50% !important;
                top: 50% !important;
                transform: translate(-50%, -50%) scale(0.95) !important;
                max-width: 90vw !important;
                max-height: 85vh !important;
                overflow-y: auto;
                padding: 20px;
                z-index: 9999;
            }
            .popup.active { transform: translate(-50%, -50%) scale(1) !important; }
            .popup-text { font-size: 0.9rem; }
            .slideshow-container { min-height: 180px; }
            .slideshow-container img { max-height: 250px; }
            .slide-arrow {width: 40px; height: 40px; font-size: 20px;}
            .designer-section { padding: 40px 20px; }
            .designer-section h3 { font-size: 1.6rem; }
            .designer-link { font-size: 1.1rem; }
            footer { padding: 40px 15px; }
            .scroll-indicator { bottom: 15px; }
            .popup-backdrop.active { display: block; }
            body.popup-open { overflow: hidden; }
           /* Add extra bottom padding to venue section to make room */
            #venue-section {
                padding-bottom: 130px;
            } 
            .section-scroll-indicator { 
                bottom: -60px;
                padding: 12px 18px;
                margin-bottom: 40px;
            }

            .section-scroll-indicator span {
                font-size: 0.85rem;
            }
            
        }

        @media (min-width: 769px) {
            .popup-backdrop { display: none !important; }
            body.popup-open { overflow: auto; }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .popup { max-width: 450px; }
            .venue-card iframe { height: 350px; }
        }

        @media (min-width: 1400px) {
            .container { max-width: 1400px; }
            .interactive-card { max-width: 800px; }
        }
        
    </style>
</head>
<body>
    <div class="popup-backdrop" id="popupBackdrop"></div>

    <div class="hero">
        <div class="hero-content">
            <h1>We're Getting Engaged!</h1>
            <p class="subtitle">Join us as we celebrate this milestone in our journey together üíû</p>
        </div>
        <div class="scroll-indicator" onclick="scrollToVenue()">
            <span class="scroll-text">Tap here to know more</span>
            <svg width="30" height="50" viewBox="0 0 30 50">
                <rect x="5" y="5" width="20" height="40" rx="10" fill="none" stroke="#86868b" stroke-width="2"/>
                <circle cx="15" cy="15" r="3" fill="#86868b">
                    <animate attributeName="cy" from="15" to="30" dur="1.5s" repeatCount="indefinite"/>
                    <animate attributeName="opacity" from="1" to="0" dur="1.5s" repeatCount="indefinite"/>
                </circle>
            </svg>
        </div>
    </div>

    <div class="section" id="venue-section">
        <div class="container">
            <div class="venue-grid">
                <div class="venue-card" style="text-align: center;">
                    <!-- <h2 class="section-title" style="font-family: 'Bodoni',cursive;">Join Us At</h2> -->
                    <h3>Join Us At</h3>
                    <p><strong>Date:</strong> Wednesday, 11th February 2026</p>
                    <p><strong>Time:</strong> 10:30 am</p>
                    <p><strong>Venue: </strong> Chamara Vajra Mukta Hall, Gate F, Near TV Tower, Jayamahal Main Road, Bengaluru 560006 </p>
                    <div style="text-align: center;">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1139.8542924943815!2d77.59273466567876!3d13.00270551663578!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae170fb6b434ef%3A0xb104e38d14592e06!2sMukta!5e0!3m2!1sen!2sus!4v1769058104130!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
        <div class="section-scroll-indicator" onclick="scrollToStory()">
            <span>Scroll to explore our story</span>
            <svg width="30" height="50" viewBox="0 0 30 50">
                <rect x="5" y="5" width="20" height="40" rx="10" fill="none" stroke="#86868b" stroke-width="2"/>
                <circle cx="15" cy="15" r="3" fill="#86868b">
                    <animate attributeName="cy" from="15" to="30" dur="1.5s" repeatCount="indefinite"/>
                    <animate attributeName="opacity" from="1" to="0" dur="1.5s" repeatCount="indefinite"/>
                </circle>
            </svg>
        </div>
    </div>

    <div class="section" id="story-section">
        <div class="container">
            <div class="interactive-section">
                <h2 class="section-title" style="font-family: 'Bodoni',serif;">Our Story in Memories</h2>
                <p class="intro-text">
                    Each element of our invitation tells a piece of our journey. Tap the markers to discover the adventures and moments that brought us here. 
                </p>

                <div class="interactive-card">
                    <div class="card-image-container">
                        <img src="./Engagement_page_pics/card front text_page-0001.jpg" alt="Engagement Card" class="card-image">

                        <div class="dot" style="top: 15%; left: 30%;" data-popup="popup1"></div>
                        <div class="dot" style="top: 29%; left: 50%;" data-popup="popup2"></div>
                        <div class="dot" style="top: 36.5%; left: 65%;" data-popup="popup3"></div>
                        <div class="dot" style="top: 38%; left: 78.5%;" data-popup="popup4"></div>
                        <div class="dot" style="top: 45%; left: 86%;" data-popup="popup5"></div>
                        <div class="dot" style="top: 60%; left: 85%;" data-popup="popup6"></div>
                        <div class="dot" style="top: 62%; left: 50%;" data-popup="popup7"></div>
                        <div class="dot" style="top: 55%; left: 15%;" data-popup="popup8"></div>
                        <div class="dot" style="top: 48%; left: 21%;" data-popup="popup9"></div>
                        <div class="dot" style="top: 37.5%; left: 15%;" data-popup="popup10"></div>
                        <div class="dot" style="top: 35%; left: 30%;" data-popup="popup11"></div>
                    </div>

                    <div id="popup1" class="popup">
                        <img src="Engagement_page_pics/bear_lake1.jpeg" alt="Memory 1">
                        <p class="popup-text">
                            <strong>Dream Lake, Rocky Mountains, Colorado</strong>
                            One of our first treks together in Colorado, literally a dream come true!! (Get it?üòÇ)
                        </p>
                    </div>

                    <div id="popup2" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/arches.jpeg" alt="Memory 2 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/canyonlands1.jpeg" alt="Memory 2 Photo 2">
                            <img src="Engagement_page_pics/canyonlands2.jpeg" alt="Memory 2 Photo 3">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 2)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Our Latest Adventure!</strong>
                            Our love for national parks took us to Arches and Canyonlands National Parks recently!
                        </p>
                    </div>

                    <div id="popup3" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/kayak1.jpeg" alt="Memory 3 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/kayak2.jpeg" alt="Memory 3 Photo 2">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Row, Row, Row your Boat!</strong>
                            Kayaking is our favorite activity and it was one of the first things we bonded on!‚ù§Ô∏è
                        </p>
                    </div>

                    <div id="popup4" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/sweet1.jpeg" alt="Memory 4 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/sweet2.jpeg" alt="Memory 4 Photo 2">
                            <img src="Engagement_page_pics/sweet3.jpeg" alt="Memory 4 Photo 3">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 2)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Dentist's Delight!</strong>
                            Safe to say our sweet tooth has kept some dental clinics running! Amorino flower ice cream and Nutella Cafe treats in Chicago!
                        </p>
                    </div>

                    <div id="popup5" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/cycle.jpeg" alt="Memory 5 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/cycle2.jpeg" alt="Memory 5 Photo 2">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Mackinac Island, Michigan</strong>
                            The only island in the USA where motorized vehicles are completely banned! We explored the small island on cycles and horseback!
                        </p>
                    </div>

                    <div id="popup6" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/fall_mntn1.jpeg" alt="Memory 6 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/fall_both.jpeg" alt="Memory 6 Photo 2">
                            <img src="Engagement_page_pics/fall2.jpeg" alt="Memory 6 Photo 3">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 2)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Fall-ing in Love!</strong>
                            Fall or Autumn is absolutely our favorite season, and holds a special place in our beginnings!
                        </p>
                    </div>

                    <div id="popup7" class="popup">
                        <img src="Engagement_page_pics/monkeying_around.jpeg" alt="Memory 7">
                        <p class="popup-text">
                            <strong>Monkeying Around!</strong>
                            When we're not busy traveling, we're on each other's backs.....literally!!
                        </p>
                    </div>

                    <div id="popup8" class="popup">
                        <img src="Engagement_page_pics/drink.jpeg" alt="Memory 8">
                        <p class="popup-text">
                            <strong>Sipping and Savoring</strong>
                            We love discovering new places and tastes together, creating sweet (and spiritedüòâ) moments!
                        </p>
                    </div>

                    <div id="popup9" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/breck_mntn.jpeg" alt="Memory 9 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/Alta_lake.jpeg" alt="Memory 9 Photo 2">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Mountains of Colorado</strong>
                            Rachita's job in Colorado has given us the opportunity to explore and view Anish's favorite geological features: Mountains!! ‚ù§Ô∏è
                        </p>
                    </div>

                    <div id="popup10" class="popup">
                        <div class="slideshow-container">
                            <img src="Engagement_page_pics/tulip1.jpeg" alt="Memory 10 Photo 1" class="active-slide">
                            <img src="Engagement_page_pics/tulip2.jpeg" alt="Memory 10 Photo 2">
                            <img src="Engagement_page_pics/tulip3.jpeg" alt="Memory 10 Photo 3">
                            <button class="slide-arrow prev" onclick="changeSlide(this, -1)">‚Äπ</button>
                            <button class="slide-arrow next" onclick="changeSlide(this, 1)">‚Ä∫</button>
                            <div class="slide-indicators">
                                <span class="slide-indicator active" onclick="currentSlide(this, 0)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 1)"></span>
                                <span class="slide-indicator" onclick="currentSlide(this, 2)"></span>
                            </div>
                        </div>
                        <p class="popup-text">
                            <strong>Tulips Without the Passport!</strong>
                             Holland, Michigan gave us Dutch vibes and Rachita's favorite flowers‚Äîtulips and lilies‚Äîwithout flying KLM!
                        </p>
                    </div>

                    <div id="popup11" class="popup">
                        <img src="Engagement_page_pics/train.jpeg" alt="Memory 11">
                        <p class="popup-text">
                            <strong>On the Right Track!</strong>
                            The Durango to Silverton railway gave us stunning mountain vistas and winding canyon views-just one more reason we love exploring Colorado!
                        </p>
                    </div>
                </div>

                <div class="designer-section">
                    <h3>Designed With Love</h3>
                    <p style="color: #515154; margin-bottom: 15px;">
                        Our invitation was beautifully and thoughtfully designed, crafted and executed by the groom's sister,
                    </p>
                    <p>
                        <span class="link-arrow">üëâ</span>
                        <a href="https://www.behance.net/nishithamitra" target="_blank" class="designer-link">
                            Nishitha Mitra
                        </a>
                    </p>
                    <p style="margin-top: 20px; color: #86868b; font-size: small;">
                        Weaving our memories into art üíï. Please do give her profile a look and show her art some love as well! 
                    </p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p style="font-size: 1.5rem; font-weight: 500; margin-bottom: 15px;">
            We can't wait to celebrate with you
        </p>
        <p style="color: #86868b;">With love,</p>
        <!-- <p style="font-weight: 500; font-size: 1.3rem; margin-top: 5px;">Rachita and Anish</p> -->
        <p class="signature-names">Rachita & Anish</p>
    </footer>

    <script>
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) || window.innerWidth <= 768;

        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        const dots = document.querySelectorAll('.dot');
        const popupBackdrop = document.getElementById('popupBackdrop');
        let activePopup = null;
        let touchMoved = false;

        dots.forEach(dot => {
    if (isMobile) {
        // MOBILE: Use touchend for more reliable tap detection
        let touchStartTime = 0;
        
        dot.addEventListener('touchstart', function(e) {
            touchMoved = false;
            touchStartTime = Date.now();
        }, { passive: true });

        dot.addEventListener('touchmove', function() {
            touchMoved = true;
        }, { passive: true });

        dot.addEventListener('touchend', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Ignore if this was a scroll gesture or took too long
            if (touchMoved || (Date.now() - touchStartTime > 500)) return;
            
            const popupId = this.getAttribute('data-popup');
            const popup = document.getElementById(popupId);
            
            if (activePopup && activePopup !== popup) {
                activePopup.classList.remove('active');
                dots.forEach(d => d.classList.remove('active'));
            }
            
            if (popup.classList.contains('active')) {
                closePopup();
            } else {
                openPopup(popup, this);
            }
        }, { passive: false });
    } else {
        // DESKTOP: Both hover AND click

        // Hover functionality
        dot.addEventListener('mouseenter', function(e) {
            const popupId = this.getAttribute('data-popup');
            const popup = document.getElementById(popupId);

            const dotRect = this.getBoundingClientRect();
            const containerRect = this.closest('.interactive-card').getBoundingClientRect();

            let left = dotRect.left - containerRect.left + 30;
            let top = dotRect.top - containerRect.top - 20;

            const popupWidth = 350;
            if (left + popupWidth > containerRect.width) {
                left = dotRect.left - containerRect.left - popupWidth;
            }

            popup.style.left = left + 'px';
            popup.style.top = top + 'px';
            popup.classList.add('active');
        });

        dot.addEventListener('mouseleave', function() {
            const popupId = this.getAttribute('data-popup');
            const popup = document.getElementById(popupId);

            setTimeout(() => {
                if (!popup.matches(':hover')) {
                    popup.classList.remove('active');
                }
            }, 100);
        });

        // Click functionality (for those who prefer clicking)
        dot.addEventListener('click', function(e) {
            e.stopPropagation();
            const popupId = this.getAttribute('data-popup');
            const popup = document.getElementById(popupId);

            const dotRect = this.getBoundingClientRect();
            const containerRect = this.closest('.interactive-card').getBoundingClientRect();

            let left = dotRect.left - containerRect.left + 30;
            let top = dotRect.top - containerRect.top - 20;

            const popupWidth = 350;
            if (left + popupWidth > containerRect.width) {
                left = dotRect.left - containerRect.left - popupWidth;
            }

            popup.style.left = left + 'px';
            popup.style.top = top + 'px';

            // If already open, close it; otherwise open it
            if (popup.classList.contains('active')) {
                popup.classList.remove('active');
            } else {
                popup.classList.add('active');
            }
        });
    }
});

        if (!isMobile) {
            const popups = document.querySelectorAll('.popup');
            popups.forEach(popup => {
                popup.addEventListener('mouseleave', function() {
                    this.classList.remove('active');
                });
            });
        }

        function openPopup(popup, dot) {
            setTimeout(() => {
                popup.classList.add('active');
                dot.classList.add('active');
                activePopup = popup;
                // Don't lock scrolling on mobile
                if (!isMobile) {
                    document.body.classList.add('popup-open');
                }
            }, 10);
        }

        function closePopup() {
            if (activePopup) {
                activePopup.classList.remove('active');
                activePopup = null;
            }
            dots.forEach(d => d.classList.remove('active'));
            document.body.classList.remove('popup-open');
        }

        popupBackdrop.addEventListener('click', closePopup);

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && activePopup) {
                closePopup();
            }
        });

        // Close popup when clicking anywhere else on mobile
        document.addEventListener('click', function(e) {
            if (isMobile && activePopup && !e.target.closest('.dot') && !e.target.closest('.popup')) {
                closePopup();
            }
        });

        let slideshowIntervals = {};

        function changeSlide(button, direction) {
            const container = button.closest('.slideshow-container');
            const slides = container.querySelectorAll('img');
            const indicators = container.querySelectorAll('.slide-indicator');

            let currentIndex = Array.from(slides).findIndex(slide =>
                slide.classList.contains('active-slide')
            );

            slides[currentIndex].classList.remove('active-slide');
            indicators[currentIndex].classList.remove('active');

            currentIndex = (currentIndex + direction + slides.length) % slides.length;

            slides[currentIndex].classList.add('active-slide');
            indicators[currentIndex].classList.add('active');

            const popupId = container.closest('.popup').id;
            resetAutoPlay(popupId);
        }

        function currentSlide(indicator, index) {
            const container = indicator.closest('.slideshow-container');
            const slides = container.querySelectorAll('img');
            const indicators = container.querySelectorAll('.slide-indicator');

            slides.forEach(slide => slide.classList.remove('active-slide'));
            indicators.forEach(ind => ind.classList.remove('active'));

            slides[index].classList.add('active-slide');
            indicators[index].classList.add('active');

            const popupId = container.closest('.popup').id;
            resetAutoPlay(popupId);
        }

        function startAutoPlay(popupId) {
            const popup = document.getElementById(popupId);
            const container = popup.querySelector('.slideshow-container');

            if (!container) return;

            if (slideshowIntervals[popupId]) {
                clearInterval(slideshowIntervals[popupId]);
            }

            slideshowIntervals[popupId] = setInterval(() => {
                const nextButton = container.querySelector('.slide-arrow.next');
                if (nextButton) changeSlide(nextButton, 1);
            }, 3000);
        }

        function stopAutoPlay(popupId) {
            if (slideshowIntervals[popupId]) {
                clearInterval(slideshowIntervals[popupId]);
                delete slideshowIntervals[popupId];
            }
        }

        function resetAutoPlay(popupId) {
            stopAutoPlay(popupId);
            startAutoPlay(popupId);
        }

        const popupsWithSlideshow = document.querySelectorAll('.popup');
        const slideshowObserver = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.attributeName === 'class') {
                    const popup = mutation.target;
                    const popupId = popup.id;

                    if (popup.classList.contains('active')) {
                        startAutoPlay(popupId);
                    } else {
                        stopAutoPlay(popupId);
                    }
                }
            });
        });

        popupsWithSlideshow.forEach(popup => {
            slideshowObserver.observe(popup, { attributes: true });
        });

        let touchStartX = 0;
        let touchEndX = 0;

        popupsWithSlideshow.forEach(popup => {
            const container = popup.querySelector('.slideshow-container');
            if (!container) return;

            container.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });

            container.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe(container);
            }, { passive: true });
        });

        function handleSwipe(container) {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;

            if (Math.abs(diff) > swipeThreshold) {
                const nextButton = container.querySelector('.slide-arrow.next');
                const prevButton = container.querySelector('.slide-arrow.prev');

                if (diff > 0) {
                    changeSlide(nextButton, 1);
                } else {
                    changeSlide(prevButton, -1);
                }
            }
        }

        // Fix for iOS slideshow arrows
        document.querySelectorAll('.slide-arrow').forEach(arrow => {
            arrow.addEventListener('touchend', function(e) {
                e.preventDefault();
                e.stopPropagation();
                this.click(); // Trigger the click event
            }, { passive: false });
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        function scrollToVenue() {
            const venueSection = document.getElementById('venue-section');
            const offset = -100; // Adjust this value - how much to show below venue
            const elementPosition = venueSection.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - offset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }

        function scrollToStory() {
            const storySection = document.getElementById('story-section');
            const cardContainer = storySection.querySelector('.interactive-card');
            
            if (cardContainer) {
                const cardPosition = cardContainer.getBoundingClientRect().top;
                const offset = 300; // Adjust to show card perfectly
                const offsetPosition = cardPosition + window.pageYOffset - offset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }
    </script>
</body>
</html>
